# Class Assigment 2, Part 2: Build Tools with Gradle

### Overview
The aim of the part 2 of the CA2 assignment is to practice Gradle using a simple example application. 
Its primary focus is to convert the basic version of the Tutorial application from Maven to Gradle.

## Getting Started
To get started, follow these steps:

### 1. Create a new branch called 'tut-basic-gradle':
```
git checkout -b "tut-basic-gradle"
```

### 2. Create a new directory called /CA2/part2:
```
mkdir Part2
```

### 3. Initialize the Project with Spring Initializr

Using the Spring Initializer (https://start.spring.io), create a new gradle spring boot project with the following configurations:

#### Project: 
- Gradle-Groovy

#### Language:
- Java

#### Spring Boot:
- 3.2.4

#### Project Metadata:
- Group: com.greglturnquist
- Artifact: react-and-spring-data-rest-basic
- Name: react-and-spring-data-rest-basic
- Description: Demo project for Spring Boot
- Package Name: com.greglturnquist.payroll
- Packaging: Jar
- Java: 17

#### Dependencies:
- Rest Repositories
- Thymeleaf
- Spring Data JPA
- H2 Database


Extract the generated zip file into the CA2/Part2 folder. This provides the basic structure of the project.

### 4. Delete the src folder:
```
rm -rf src
```

### 5. Copy the src folder and its contents from the Basic Tutorial to /CA2/Part2/react-and-spring-data-rest-basic:

### 6. Copy the files `webpack.config.js` and `package.json` and change the import in tests from javax to jakarta.

### 7. In intellij IDE, go to react-and-spring-data-rest-basic package and execute the command:
```
./gradlew tasks
```

### 8. Experience the application by using the following command:
```
./gradlew bootRun
```

### 7. Open the browser and go to the following URL to check that the application is "empty":
```
http://localhost:8080
```

### 8. Add the gradle plugin org.siouan.frontend.

### 9. Add the following line to the plugins block in build.gradle:
```
 id "org.siouan.frontend-jdk17" version "8.0.0" 
```

### 10. Add the following lines to the build.gradle file:
```
frontend { 
nodeVersion = "16.20.2" 
assembleScript = "run build" 
cleanScript = "run clean" 
checkScript = "run check" } 
```

### 11. update the scripts section in the package.json file:
```
"scripts": {
"webpack": "webpack",
"build": "npm run webpack", 
"check": "echo Checking frontend", 
"clean": "echo Cleaning frontend", 
"lint": "echo Linting frontend", 
"test": "echo Testing frontend" }, 
```

### 12. Build the projetc using the following command:
```
./gradlew build
```

### 13. Execute the application using the following command:
```
./gradlew bootRun
```

### 14. Add a task to gradle to copy the generated jar to a folder named dist at project root:
```
task copyJar (type: Copy) {
    from 'build/libs'
    into 'dist'
    include '*.jar'
}
```

### 15. Add a task to gradle to delete all the files generated by webpack th<t should be executed automatically before the task clean:
```
task deleteWebpackFiles(type: Delete) {
    delete 'src/main/resources/static/built'
}
clean.dependsOn deleteWebpackFiles
``` 

### 16. Merge the the created branch 'tut-basic-gradle' with the main branch:
```
git checkout main
git merge tut-basic-gradle
git commit -m "Closes #23. Merged tut-basic-gradle branch"
``` 

### Conclusion
In conclusion, this Part 2 of the Class Assignment 2 focused on migrating a basic Spring Boot application from Maven to Gradle. 
By following a step-by-step process, we successfully converted the project structure, integrated Gradle as the build tool, and configured frontend management using the org.siouan.frontend plugin. 
Additionally, we ensured smooth execution of the application, copied the generated JAR to a separate folder, and implemented a task to clean webpack-generated files. 
Through these tasks, we gained valuable experience in Gradle usage and build automation, enhancing our understanding of modern development practices. This assignment serves as a practical demonstration of Gradle's capabilities and its role in facilitating efficient project management and development workflows.